import{__toESM as e,require_jsx_runtime as t,require_react as n}from"./index-BfF3hZ2k.js";import"./isObject-9FbGQutX.js";import"./toNumber-1deUtn-U.js";import{range_default as r}from"./range-By_eK658.js";import"./eq-CR-dtW8f.js";var i=e(n()),a=e(t());function o(){let[e,t]=(0,i.useState)(!1),[n,o]=(0,i.useState)(0);return(0,a.jsxs)(`div`,{children:[(0,a.jsx)(`div`,{className:`h-40 flex items-center justify-center`,children:`something`}),(0,a.jsx)(`button`,{onClick:()=>{o(n+1)},children:n}),(0,a.jsx)(c,{datas:r(1e6),rowHeight:30,rowRenderer:(e,t,n)=>{let r=(0,a.jsx)(`div`,{style:n,className:`border border-red-600`,children:e},t);return r}})]})}const s=(0,i.memo)(function({children:e}){let[t,n]=(0,i.useState)(!1);return console.log(`button`),(0,a.jsxs)(`div`,{className:`z-40`,onClick:()=>n(!t),children:[t?`on`:`off`,e]})});function c({datas:e,rowHeight:t,rowRenderer:n}){let[r,o]=(0,i.useState)(0),[s,c]=(0,i.useState)(0),l=(0,i.useRef)(null);function u(n){let r=window.innerHeight/2,i=window.scrollY-l.current?.offsetTop,a=Math.max(Math.floor((i-r)/t),0),s=Math.min(Math.ceil((i+window.innerHeight+r)/t),e.length);o(a),c(s),console.log(a,s)}(0,i.useEffect)(()=>(addEventListener(`scroll`,u),console.log(`addEventListener`),u(),()=>{removeEventListener(`scroll`,u),console.log(`removeEventListener`)}),[]);let d=e.slice(r,s).map((e,i)=>n(e,i+r,{transform:`translate(0, ${(i+r)*t}px)`,height:t,position:`absolute`}));return(0,a.jsx)(`div`,{className:`border border-blue-600`,style:{height:t*e.length},ref:l,children:d})}export{o as default};