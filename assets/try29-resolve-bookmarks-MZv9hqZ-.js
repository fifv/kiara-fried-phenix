import{__toESM as e,clsx_default as t,require_jsx_runtime as n,useLocalStorage as r}from"./index-CNRXf_Sd.js";import{QueryClient as i,QueryClientProvider as a,useQuery as o}from"./useQuery-BNiMgIvZ.js";var s=e(n());function c(e){if(e.type===`url`)return 1;if(e.type===`folder`)return e.children.reduce((e,t)=>e+c(t),0);throw`?`}const l=new i;function u(){return(0,s.jsx)(a,{client:l,children:(0,s.jsx)(f,{})})}function d({node:e}){let[n,i]=r(e.guid,!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(`div`,{className:t(e.type===`folder`&&`font-bold text-blue-500 cursor-pointer hover:bg-white/10 active:bg-white/5`,`px-2 rounded`),onClick:()=>{i(e=>!e)},children:[e.name,e.type===`folder`&&(0,s.jsx)(`span`,{className:`text-yellow-200 mx-2`,children:c(e)}),e.type===`url`&&(0,s.jsx)(`a`,{href:e.url,target:`_blank`,children:` >`})]}),e.type===`folder`&&n&&(0,s.jsx)(`div`,{className:t(`ml-8 outline rounded-sm outline-dashed outline-white/20`),children:e.children.map(e=>(0,s.jsx)(d,{node:e}))})]},e.guid)}function f(){let{isPending:e,error:n,data:r}=o({queryKey:[`repoData`],queryFn:()=>fetch(`./Bookmarks`).then(e=>e.json()).then(e=>e.roots.bookmark_bar)});return e?`Loading...`:n?`An error has occurred: `+n.message:(0,s.jsx)(`div`,{className:t(`mx-12 my-4`),children:(0,s.jsx)(d,{node:r})})}export{u as default};