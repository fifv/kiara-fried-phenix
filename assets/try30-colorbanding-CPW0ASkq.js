import{__toESM as e,clsx_default as t,require_jsx_runtime as n,require_react as r}from"./index-CNRXf_Sd.js";var i=e(r()),a=e(n());function o(){let e=(0,i.useRef)(null);(0,i.useEffect)(()=>{function t(e){console.log(`resize:`,e),e.forEach(e=>{e.target instanceof HTMLCanvasElement&&(e.target.width=(e.devicePixelContentBoxSize[0]?.inlineSize??0)/1,e.target.height=(e.devicePixelContentBoxSize[0]?.blockSize??0)/1)}),n()}let r=new ResizeObserver(t);return e.current&&r.observe(e.current),()=>{r.disconnect()}},[]);function n(){let t=e.current,n=t?.getContext(`2d`);if(t&&n){let e=Math.floor(t.width/1),r=Math.floor(t.height/4);console.log(`canvas:`,`width`,t.width,`height`,t.height,`render: `,`width`,e,`height`,r);let i=new Uint8ClampedArray(e*r*4),a=new ImageData(i,e,r),o=Math.random();for(let t=0;t<i.length;t+=4){let n=~~(t/4),r=~~(n/e),a=n%e,o=0,s=64;r<8?(i[t+0]=255,i[t+1]=255,i[t+2]=255,i[t+3]=a%Math.round(e/(s-o+1))===0?255:0):(i[t+0]=o+~~(a/Math.round(e/(s-o+1))),i[t+1]=o+~~(a/Math.round(e/(s-o+1))),i[t+2]=o+~~(a/Math.round(e/(s-o+1))),i[t+3]=255)}n?.putImageData(a,0,0)}}return(0,a.jsxs)(`div`,{className:t(`select-none`,`bg-black`),children:[(0,a.jsx)(`button`,{onClick:()=>{let t=e.current;t&&t.getContext(`2d`)?.clearRect(0,0,t.width,t.height)},children:`X`}),(0,a.jsx)(`button`,{onClick:()=>{n()},onPointerMove:e=>{e.buttons===1&&n()},children:`putImageData(imageData)`}),(0,a.jsx)(`div`,{className:`flex`,children:(0,a.jsx)(`canvas`,{style:{width:`99vw`,height:`60vh`},className:t(`border border-green-400`),ref:e})}),(0,a.jsx)(`div`,{className:t(`border border-green-400 w-[99vw] h-24`,`bg-gradient-to-r from-black `,`to-[#404040]`)}),(0,a.jsx)(`div`,{className:t(`w-screen h-screen`)}),(0,a.jsx)(s,{})]})}function s(){let[e,n]=(0,i.useState)(0),[r,o]=(0,i.useState)(0);return(0,a.jsxs)(`div`,{className:t(`w-screen h-screen relative`),style:{},children:[(0,a.jsx)(`input`,{type:`range`,className:t(``,``),onChange:e=>{n(e.currentTarget.valueAsNumber)},value:e}),(0,a.jsx)(`input`,{type:`range`,className:t(``,``),onChange:e=>{o(e.currentTarget.valueAsNumber)},value:r}),(0,a.jsx)(`div`,{className:t(`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2`,`w-24 h-24`),style:{background:`rgb( ${e/100*255}, ${e/100*255}, ${e/100*25500})`,width:r*10,height:r*10}})]})}export{o as default};